import{d as S,n as h,A as p,L as y,M as $,c as O,w,o as L,N as A,f as o,O as P,Q as U,P as j,I,R as D,S as E,T as z,U as F,V as G,r as R,W as V,X as H,Y as M,Z as q,$ as K,i as _,F as Q,a0 as W,a1 as X}from"./index-DRKJTREC.js";import{L as Y}from"./index-CI2nGlxE.js";let g=0;function Z(e){e?(g||document.body.classList.add("van-toast--unclickable"),g++):g&&(g--,g||document.body.classList.remove("van-toast--unclickable"))}const[J,d]=O("toast"),ee=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],te={icon:String,show:Boolean,type:y("text"),overlay:Boolean,message:h,iconSize:h,duration:$(2e3),position:y("middle"),teleport:[String,Object],wordBreak:String,className:p,iconPrefix:String,transition:y("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:p,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:h};var ne=S({name:J,props:te,emits:["update:show"],setup(e,{emit:t,slots:a}){let i,c=!1;const r=()=>{const n=e.show&&e.forbidClick;c!==n&&(c=n,Z(c))},s=n=>t("update:show",n),f=()=>{e.closeOnClick&&s(!1)},u=()=>clearTimeout(i),C=()=>{const{icon:n,type:l,iconSize:m,iconPrefix:b,loadingType:N}=e;if(n||l==="success"||l==="fail")return o(I,{name:n||l,size:m,class:d("icon"),classPrefix:b},null);if(l==="loading")return o(Y,{class:d("loading"),size:m,type:N},null)},k=()=>{const{type:n,message:l}=e;if(a.message)return o("div",{class:d("text")},[a.message()]);if(D(l)&&l!=="")return n==="html"?o("div",{key:0,class:d("text"),innerHTML:String(l)},null):o("div",{class:d("text")},[l])};return w(()=>[e.show,e.forbidClick],r),w(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(i=setTimeout(()=>{s(!1)},e.duration))}),L(r),A(r),()=>o(j,P({class:[d([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:f,onClosed:u,"onUpdate:show":s},U(e,ee)),{default:()=>[C(),k()]})}});const oe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let v=[],ae=!1,T=z({},oe);const se=new Map;function le(e){return F(e)?e:{message:e}}function ie(){const{instance:e}=G({setup(){const t=R(""),{open:a,state:i,close:c,toggle:r}=V(),s=()=>{},f=()=>o(ne,P(i,{onClosed:s,"onUpdate:show":r}),null);return w(t,u=>{i.message=u}),H().render=f,{open:a,close:c,message:t}}});return e}function re(){if(!v.length||ae){const e=ie();v.push(e)}return v[v.length-1]}function ke(e={}){if(!E)return{};const t=re(),a=le(e);return t.open(z({},T,se.get(a.type||T.type),a)),t}const[ce,B]=O("tag"),ue={size:String,mark:Boolean,show:M,type:y("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var de=S({name:ce,props:ue,emits:["close"],setup(e,{slots:t,emit:a}){const i=s=>{s.stopPropagation(),a("close",s)},c=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},r=()=>{var s;const{type:f,mark:u,plain:C,round:k,size:n,closeable:l}=e,m={mark:u,plain:C,round:k};n&&(m[n]=n);const b=l&&o(I,{name:"cross",class:[B("close"),K],onClick:i},null);return o("span",{style:c(),class:B([m,f])},[(s=t.default)==null?void 0:s.call(t),b])};return()=>o(q,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?r():null]})}});const be=_(de),[fe,x]=O("cell-group"),me={title:String,inset:Boolean,border:M};var ge=S({name:fe,inheritAttrs:!1,props:me,setup(e,{slots:t,attrs:a}){const i=()=>{var r;return o("div",P({class:[x({inset:e.inset}),{[X]:e.border&&!e.inset}]},a,W()),[(r=t.default)==null?void 0:r.call(t)])},c=()=>o("div",{class:x("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?o(Q,null,[c(),i()]):i()}});const he=_(ge);export{he as C,be as T,ke as s};
