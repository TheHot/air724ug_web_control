import{d as b,n as v,B as w,M as y,ai as M,c as S,w as k,o as z,aj as N,f as n,$ as C,a9 as L,P as _,I as j,W as U,X as $,a4 as P,ak as G,al as D,r as F,am as R,U as V,N as q,F as A,an as E,ao as H,i as W}from"./index-f35fkoae.js";import{L as X}from"./index-dYdQ2Z2E.js";let f=0;function J(e){e?(f||document.body.classList.add("van-toast--unclickable"),f++):f&&(f--,f||document.body.classList.remove("van-toast--unclickable"))}const[K,c]=S("toast"),Q=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Y={icon:String,show:Boolean,type:y("text"),overlay:Boolean,message:v,iconSize:v,duration:M(2e3),position:y("middle"),teleport:[String,Object],wordBreak:String,className:w,iconPrefix:String,transition:y("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:w,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:v};var Z=b({name:K,props:Y,emits:["update:show"],setup(e,{emit:t,slots:a}){let i,r=!1;const l=()=>{const o=e.show&&e.forbidClick;r!==o&&(r=o,J(r))},d=o=>t("update:show",o),g=()=>{e.closeOnClick&&d(!1)},u=()=>clearTimeout(i),x=()=>{const{icon:o,type:s,iconSize:h,iconPrefix:I,loadingType:T}=e;if(o||s==="success"||s==="fail")return n(j,{name:o||s,size:h,class:c("icon"),classPrefix:I},null);if(s==="loading")return n(X,{class:c("loading"),size:h,type:T},null)},B=()=>{const{type:o,message:s}=e;if(a.message)return n("div",{class:c("text")},[a.message()]);if(U(s)&&s!=="")return o==="html"?n("div",{key:0,class:c("text"),innerHTML:String(s)},null):n("div",{class:c("text")},[s])};return k(()=>[e.show,e.forbidClick],l),k(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(i=setTimeout(()=>{d(!1)},e.duration))}),z(l),N(l),()=>n(_,C({class:[c([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:g,onClosed:u,"onUpdate:show":d},L(e,Q)),{default:()=>[x(),B()]})}});const ee={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let m=[],te=!1,p=P({},ee);const ne=new Map;function ae(e){return G(e)?e:{message:e}}function oe(){const{instance:e}=D({setup(){const t=F(""),{open:a,state:i,close:r,toggle:l}=R(),d=()=>{},g=()=>n(Z,C(i,{onClosed:d,"onUpdate:show":l}),null);return k(t,u=>{i.message=u}),V().render=g,{open:a,close:r,message:t}}});return e}function se(){if(!m.length||te){const e=oe();m.push(e)}return m[m.length-1]}function fe(e={}){if(!$)return{};const t=se(),a=ae(e);return t.open(P({},p,ne.get(a.type||p.type),a)),t}const[ie,O]=S("cell-group"),le={title:String,inset:Boolean,border:q};var re=b({name:ie,inheritAttrs:!1,props:le,setup(e,{slots:t,attrs:a}){const i=()=>{var l;return n("div",C({class:[O({inset:e.inset}),{[H]:e.border&&!e.inset}]},a,E()),[(l=t.default)==null?void 0:l.call(t)])},r=()=>n("div",{class:O("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?n(A,null,[r(),i()]):i()}});const me=W(re);export{me as C,fe as s};
